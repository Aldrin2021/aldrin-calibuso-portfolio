import { styled } from "styled-components";
import React from "react";
import { NavigationBar } from "../NavigationBar/NavigationBar";
import { Animations } from "../Animations/Animations";
import ReactTypingEffectProps from "react-typing-effect";
import { Download } from "../Button/Download";
import picture from "../Images/aldrin.png";
import { Instagram, Facebook, LinkedIn, Face } from "@mui/icons-material";
import { ImageAnimation } from "../Animations/ImageAnimation";
import { Breadcrumb } from "../Breadcrumb/Breadcrumb";

export const Extra: React.FC = () => {
  const [activeSection, setActiveSection] = React.useState<string | boolean>(
    "home"
  );
  const [manualActive, setManualActive] = React.useState<string | null>(null);

  React.useEffect(() => {
    if (manualActive) return;

    const handleScroll = () => {
      const sections = ["home", "about", "experiences", "contact"];
      const yOffset = -100;

      let current = sections[0];
      for (const sectionId of sections) {
        const section = document.getElementById(sectionId);
        if (section) {
          const top = section.offsetTop + yOffset;
          if (window.scrollY >= top) {
            current = sectionId;
          }
        }
      }

      setActiveSection(current);
    };

    window.addEventListener("scroll", handleScroll);
    handleScroll();

    return () => window.removeEventListener("scroll", handleScroll);
  }, [manualActive]);

  const scrollToSection = (id: string) => {
    if (id === "home") {
      window.scrollTo({ top: 0, behavior: "smooth" });
    } else {
      const section = document.getElementById(id);
      if (section) {
        const yOffset = -80;
        const y =
          section.getBoundingClientRect().top + window.scrollY + yOffset;
        window.scrollTo({ top: y, behavior: "smooth" });
      }
    }

    setActiveSection(id);
    setManualActive(id);

    setTimeout(() => {
      setManualActive(null);
    }, 500);
  };

  return (
    <div>
      {/* <NavigationBar /> */}

      <div
        id="container"
        style={{
          display: "grid",
          gridTemplateColumns: "1fr 1fr",
          gap: "10px",
          // border: "1px solid red",
          padding: "10px",
          color: "white",
        }}
      >
        <StyledFirstSection id="home">
          <StyledFirstHeader>
            <StyledTitle>Aldrin Calibuso</StyledTitle>
          </StyledFirstHeader>
          <StyledFirstSubHeader>
            <ReactTypingEffectProps
              text={["Front-End Web Developer"]}
              staticText="and i'm a"
              speed={100}
              eraseSpeed={50}
              eraseDelay={1500}
              typingDelay={500}
              displayTextRenderer={(text) => (
                <label style={{ color: "#40c796" }}>{text}</label>
              )}
            />
          </StyledFirstSubHeader>
          <StyledFirstDescription>
            <StyledSubHeader>
              I'm a Front-End Web Developer with 2 to 5 years of experience
              crafting modern, responsive websites and applications. I
              specialize in React and TypeScript, and love turning UI/UX designs
              into real, performant products.
            </StyledSubHeader>
          </StyledFirstDescription>
          <StyledFirstBreadcrumb>
            <NavigationBar
              activeSection={activeSection}
              scrollToSection={scrollToSection}
            />
          </StyledFirstBreadcrumb>
          <StyledFirstFooter>
            <Download />
          </StyledFirstFooter>
        </StyledFirstSection>

        {/* <div
          style={{
            gridColumn: "3",
            gridRow: "1 / span 3",
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
            border: "1px solid red",
          }}
        >
          <ImageAnimation />
        </div> */}
        {/*  <div
          style={{
            border: "1px solid red",
            gridColumn: "3",
            gridRow: "1 / span 1",
          }}
        >
          <StyledHeader>Software Engineer</StyledHeader>
        </div>
        <div
          style={{
            border: "1px solid red",
            gridColumn: "3",
            gridRow: "2 / span 2",
          }}
        >
          <StyledSubHeader>
            I'm a Front-End Web Developer with 2 to 5 years of experience
            crafting modern, responsive websites and applications. I specialize
            in React and TypeScript, and love turning UI/UX designs into real,
            performant products.
          </StyledSubHeader>
          <StyledSocialSubHeader>
            <Instagram />
            <Facebook />
            <LinkedIn />
          </StyledSocialSubHeader>
        </div> */}

        {/* <div style={{ border: "1px solid red", gridColumn: "1" }}>BOX1</div>
      <div style={{ gridColumn: "2" }}></div> 
      <div style={{ border: "1px solid red", gridColumn: "3" }}>BOX4</div> */}

        {/* <NavigationBar /> */}
        {/* <StyledContainer
          id="home"
          style={{
            color: "white",
            height: "auto",
          }}
        >
          <div>
            <StyledTitleSection>
              <div>
                <StyledTitle>Hi i'm Aldrin</StyledTitle>
              </div>
              <div>
                <ReactTypingEffectProps
                  text={["Front-End Web Developer"]}
                  staticText="and i'm a"
                  speed={100}
                  eraseSpeed={50}
                  eraseDelay={1500}
                  typingDelay={500}
                  displayTextRenderer={(text) => (
                    <label style={{ color: "#40c796" }}>{text}</label>
                  )}
                />
              </div>
            </StyledTitleSection>
            <StyledDownload>
              <Download />
            </StyledDownload>
          </div>
        </StyledContainer> */}
      </div>
      <div id="about" style={{ height: "100vh" }}>
        about
      </div>
    </div>
  );
};

const StyledFirstSection = styled.div`
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
  padding: 30% 0 30% 0;
  // border: 1px solid red;
  padding-left: 50px;
  grid-row: 2 / span 1;
`;

const StyledFirstHeader = styled.div`
  grid-column: 1;
`;

const StyledFirstSubHeader = styled.div`
  font-size: 25px;
  grid-column: 1;
`;

const StyledFirstFooter = styled.div`
  grid-column: 1;
`;

const StyledFirstDescription = styled.div`
  grid-column: 1;
`;

const StyledFirstBreadcrumb = styled.div`
  grid-column: 1;
  // border: 1px solid red;
`;

const StyledHeader = styled.label`
  color: #fff;
  font-size: 36px;
`;
const StyledSubHeader = styled.label`
  color: #fff;
  font-size: 14px;
`;

const StyledSocialSubHeader = styled.div``;

const MainContainer = styled.div`
  border: 1px solid red;
  width: 100%;
`;

const StyledContainer = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  float: left;
  margin: 20% 0 20% 5%;
  padding: 15px;
  width: auto;
  border: 1px solid red;

  @media (max-width: 768px) {
    margin-top: 10rem;
    padding: 20px;
  }
`;

const StyledTitleSection = styled.div`
  border-left: 1px solid #40c796;
  border-width: 8px;
  border-left-style: double;
  padding-left: 15px;
`;

const StyledTitle = styled.label`
  color: #fff;
  font-size: 50px;
  font-weight: 900;
  @media (max-width: 768px) {
    font-size: 20px;
  }
`;

const StyledSubtitle = styled.h4`
  color: black;
  font-size: 18px;
  width: 100%;

  @media (max-width: 768px) {
    font-size: 14px;
  }
`;

const StyledDownload = styled.div`
  margin-top: 20px;
`;
